<%- include('partials/header') -%>
<div class="container mt-5">
  <h1>New Reviewer</h1>
  <form method="POST" action="/subject/<%= subjectId %>/reviewer/new" onsubmit="prepareContent()">
    <div class="mb-3">
      <label class="form-label">Title</label>
      <input name="title" class="form-control" required />
    </div>
    <div class="mb-3">
      <label class="form-label">Content (supports bullets, numbers, formatting)</label>
      <div id="editor" style="height: 300px;"></div>
      <input type="hidden" name="content_html" id="content_html" />
    </div>
    <button class="btn btn-primary">Save Reviewer</button>
    <a href="/subject/<%= subjectId %>" class="btn btn-secondary">Cancel</a>
  </form>
</div>

<script src="https://cdn.quilljs.com/1.3.6/quill.js"></script>
<link href="https://cdn.quilljs.com/1.3.6/quill.snow.css" rel="stylesheet">
<script>
  var quill = new Quill('#editor', { theme: 'snow' });
  function prepareContent() {
    var html = document.querySelector('#editor .ql-editor').innerHTML;
    document.getElementById('content_html').value = html;
  }
</script>

<%- include('partials/footer') -%>
